h1. About vmath

vmath is a simple linear algebra library for golang and designed solely for 3D graphics.  It defines structs and functions for points, vectors, and small matrices.  The full API reference is "here":http://www.textism.com, but keep reading this page for a quick overview.

The name of the go package is *vmath*; the git repository is *govmath*.

h1. The structs

vmath defines 6 structs, each of which has a tiny two-character name.

| *V3* | 3x1 | Vector in 3-space |
| *V4* | 4x1 | Homogeneous vector |
| *P3* | 3x1 | Point in 3-space, similar to a *V4* with w=1 |
| *M3* | 3x3 | Can represent rotation and scale |
| *T3* | 4x3 | Affine transform; adds translation to *M3* |
| *M4* | 4x4 | Homogeneous transform (suitable for perpective projection) |

h1. Examples

Vectors and points are distinct concepts.  For example, a *V3* can be added to a *P3* to yield another *P3*:

<pre>
v := vmath.V3New(0, 0, 1)
p := vmath.P3New(1, 0, 0)
p = p.Add(v)
</pre>

By design, vectors can be added to points, but points cannot be added vectors.  Adding a *V3* to another *V3* yields a *V3*:

<pre>
v1 := vmath.V3New(0, 0, 1)
v2 := vmath.V3New(1, 0, 0)
var v vmath.V3 = v1.Add(v2)
</pre>

Unlike go's own math package, vmath is designed for 32-bit floats.  This is mostly for OpenGL compatibility:

<pre>
var v vmath.V3 = foo()
var f float32 = v.X
glVertexAttrib1f(mySlot, f)
</pre>

All non-method functions are prefixed with the type they return (e.g., *V3New*).  Methods don't have prefixes.  Functions and methods sometimes have a type suffix:

<pre>
p1 := P3FromV3(a)
p2 := P3FromV4(b)
m := M4Translate(1, 0, 0)
var ᴨ float32 = float32(math.Atan(1) * 4)
t := T3RotateX(ᴨ/2)
</pre>

Matrix methods and functions operate on pointers, while vectors and points operate on values:

You can always modify a vector or matrix by accessing its struct members, but all methods and functions treat them as immutable:

<pre>
var m M4 = ...
m.Transpose() // this does nothing
m2 = m.Transpose() // better!
</pre>

The concept of equality is dodgy with floating-point vectors, but you can always call *Equivalent* with an epsilon of your choice:

<pre>
var ε float32 = 1e-4
// todo
</pre>
